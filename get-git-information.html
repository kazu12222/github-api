<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>vueを使ってaxiosを学ぶ</title>
  </head>

  <body>
    <div id="app">
      <div class="gitdata">
        <input type="text" v-model="user" placeholder="User Name" />
        <button @click="search_video">検索</button>
        <ul v-for="userData in userDatas">
          <li>{{userData.name}}</li>
        </ul>
      </div>
    </div>

    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!--axios import-->

    <script>
      Vue.createApp({
        el: "#app",
        name: "GitData",
        props: {
          reposName: String,
        },
        data() {
          return {
            userDatas: [],
            user: "kazu12222",
            q: "",
          };
        },
        //   created() {
        //     this.q = this.user;
        //     const request = axios.create({
        //       baseURL: "https://api.github.com",
        //     });
        //     request.get(`/users/${this.q}/repos`).then((res) => {
        //       this.userDatas = res.data;
        //       console.log(res);
        //       console.log(this.q);
        //     });
        //   },
        // }).mount("#app");
        methods: {
          search_video: function () {
            this.q = this.user;
            const request = axios.create({
              baseURL: "https://api.github.com",
            });
            request.get(`/users/${this.q}/repos`).then((res) => {
              this.userDatas = res.data;
              console.log(res);
              console.log(this.user);
            });
          },
        },
      }).mount("#app");
    </script>
  </body>
</html>
